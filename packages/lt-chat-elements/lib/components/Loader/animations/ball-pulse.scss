@import '../../../common/styles/functions';
@import 'mixins/mixins';

@keyframes letstalk-loader-scale {
  0% {
    transform: scale(0);
    opacity: 0.2;
    animation-timing-function: ease-out;
  }

  30% {
    transform: scale(1.0);
    opacity: 0.8;
    animation-timing-function: ease-in;
  }

  60% {
    transform: scale(0.1);
    opacity: 0.4;
  }

  100% {
    transform: scale(0);
    opacity: 1;
  }
}

// mixins should be separated out
@mixin letstalk-ball-pulse($n: 3, $start: 1) {
  @for $i from $start through $n {
    > div:nth-child(#{$i}) {
      animation:
        letstalk-loader-scale
        $loader-animation-duration
        letstalk-delay(0.12s, $n, $i)
        infinite;
    }
  }
}

.letstalk-ball-pulse {
  @include letstalk-ball-pulse();

  > div {
    @include letstalk-balls();
    @include letstalk-global-animation();

    display: inline-block;
    border-radius: 100%;
  }
}

@include generateBallSize('ball-pulse', 'xsmall', $loader-size-xsmall);
@include generateBallSize('ball-pulse', 'small', $loader-size-small);
@include generateBallSize('ball-pulse', 'medium', $loader-size-medium);
@include generateBallSize('ball-pulse', 'large', $loader-size-large);
@include generateBallSize('ball-pulse', 'xlarge', $loader-size-xlarge);
